<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="/fragments/head :: head"/>
<body class="hold-transition skin-black-light sidebar-mini">
<div class="wrapper">

    <div th:replace="/fragments/header :: header">&nbsp;</div>

    <div th:replace="/fragments/navigationbar :: navigationbar">&nbsp;</div>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">

        <div th:replace="/fragments/contentHeader :: contentHeader"/>

        <!-- Main content -->
        <section class="content container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <form action="#" th:action="@{/weekview/save}" th:object="${form}"
                          method="post">
                        <fieldset>
                            <div class="box">
                                <div class="box-header with-border">
                                    <h3 class="box-title">This Week</h3>
                                    <ul class="pagination pagination-sm no-margin pull-right">
                                        <li><a th:href="@{/weekview/edit(action=previous)}">&#8249;&#8249;</a></li>
                                        <li><a th:href="@{/weekview/edit}"
                                               th:text="${weekViewModel.currentWeek}">Current week</a></li>
                                        <li><a th:href="@{/weekview/edit(action=next)}">&#8250;&#8250;</a></li>
                                    </ul>

                                </div>
                                <!-- /.box-header -->

                                <div class="box-body table-mobile">
                                        <table id="TimeSheetWeekView"
                                           class="table table-striped table-hover">
                                        <thead class="thead-dark">
                                        <tr>
                                            <th><span>Project</span></th>
                                            <th><span>Task</span></th>
                                            <th><span
                                                    th:text="${weekViewModel.weekViewTableCols.mon.head}">Mon</span>
                                            </th>
                                            <th><span
                                                    th:text="${weekViewModel.weekViewTableCols.tus.head}">Tus</span>
                                            </th>
                                            <th><span
                                                    th:text="${weekViewModel.weekViewTableCols.wed.head}">Wed</span>
                                            </th>
                                            <th><span
                                                    th:text="${weekViewModel.weekViewTableCols.thu.head}">Thu</span>
                                            </th>
                                            <th><span
                                                    th:text="${weekViewModel.weekViewTableCols.fri.head}">fri</span>
                                            </th>
                                            <th><span
                                                    th:text="${weekViewModel.weekViewTableCols.sat.head}">Sat</span>
                                            </th>
                                            <th><span
                                                    th:text="${weekViewModel.weekViewTableCols.sun.head}">Sun</span>
                                            </th>
                                            <th><span>Total</span></th>
                                            <th><span></span></th>
                                            <th><span></span></th>
                                        </tr>
                                        </thead>

                                        <tbody>
                                        <tr th:each="weekview, itemStat: ${form.weekviews}"
                                            th:style="${itemStat.odd} ? 'color: gray' : 'color: blue;'">
                                            <td><span
                                                    th:text="${weekview.employeeProject.project.name}">
											Project</span></td>
                                            <td><span th:text="${weekview.task.name}"> Task</span></td>
                                            <td><input class="form-control"
                                                       th:placeholder="Mon + ' ' + ${itemStat.count}"
                                                       th:name="|weekviews[${itemStat.index}].mon|"
                                                       th:value="${weekview.getMon()}"/></td>
                                            <td><input class="form-control"
                                                       th:placeholder="Tus + ' ' + ${itemStat.count}"
                                                       th:name="|weekviews[${itemStat.index}].tus|"
                                                       th:value="${weekview.getTus()}"/></td>
                                            <td><input class="form-control"
                                                       th:placeholder="Wed + ' ' + ${itemStat.count}"
                                                       th:name="|weekviews[${itemStat.index}].wed|"
                                                       th:value="${weekview.getWed()}"/></td>
                                            <td><input class="form-control"
                                                       th:placeholder="Thu + ' ' + ${itemStat.count}"
                                                       th:name="|weekviews[${itemStat.index}].thu|"
                                                       th:value="${weekview.getThu()}"/></td>
                                            <td><input class="form-control"
                                                       th:placeholder="Fri + ' ' + ${itemStat.count}"
                                                       th:name="|weekviews[${itemStat.index}].fri|"
                                                       th:value="${weekview.getFri()}"/></td>
                                            <td><input class="form-control"
                                                       th:placeholder="Sat + ' ' + ${itemStat.count}"
                                                       th:name="|weekviews[${itemStat.index}].sat|"
                                                       th:value="${weekview.getSat()}"/></td>
                                            <td><input class="form-control"
                                                       th:placeholder="Sun + ' ' + ${itemStat.count}"
                                                       th:name="|weekviews[${itemStat.index}].sun|"
                                                       th:value="${weekview.getSun()}"/></td>


                                            <td><span th:text="${weekview.total}"> Total </span></td>
                                            <td><input hidden="id"
                                                       th:name="|weekviews[${itemStat.index}].employeeProject.id|"
                                                       th:value="${weekview.employeeProject.id}"/></td>
                                            <td><input hidden="id"
                                                       th:name="|weekviews[${itemStat.index}].task.id|"
                                                       th:value="${weekview.task.id}"/></td>

                                        </tr>
                                        </tbody>

                                        <tfoot class="thead-light">
                                        <tr>
                                            <th><span>Total</span></th>
                                            <th><span></span></th>
                                            <th><span
                                                    th:text="${weekViewModel.weekViewTableCols.mon.foot}">Mon</span>
                                            </th>
                                            <th><span
                                                    th:text="${weekViewModel.weekViewTableCols.tus.foot}">Tus</span>
                                            </th>
                                            <th><span
                                                    th:text="${weekViewModel.weekViewTableCols.wed.foot}">Wed</span>
                                            </th>
                                            <th><span
                                                    th:text="${weekViewModel.weekViewTableCols.thu.foot}">Thu</span>
                                            </th>
                                            <th><span
                                                    th:text="${weekViewModel.weekViewTableCols.fri.foot}">fri</span>
                                            </th>
                                            <th><span
                                                    th:text="${weekViewModel.weekViewTableCols.sat.foot}">Sat</span>
                                            </th>
                                            <th><span
                                                    th:text="${weekViewModel.weekViewTableCols.sun.foot}">Sun</span>
                                            </th>
                                            <th><span
                                                    th:text="${weekViewModel.weekViewTableCols.total.foot}">0</span>
                                            </th>
                                            <th><span></span></th>
                                            <th><span></span></th>
                                        </tr>
                                        </tfoot>

                                    </table>


                                    <div class="box-footer clearfix">
                                        <div class="pull-right">
                                            <input type="submit" id="saveButton" name="action" th:value="Save"/>
                                            <input type="reset" id="resetButton" name="action" th:value="Reset"/>
                                            <input type="submit" id="submitButton" name="action"
                                                   th:value="SubmitForApproval"/>
                                        </div>
                                    </div>

                                </div>
                                <!-- /.box-body -->
                            </div>
                            <!-- /.box -->
                        </fieldset>
                    </form>
                </div>
            </div>
            <!-- /.box -->
        </section>
        <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->

    <div th:replace="/fragments/footer :: footer">&nbsp;</div>

</div>

</body>
</html>